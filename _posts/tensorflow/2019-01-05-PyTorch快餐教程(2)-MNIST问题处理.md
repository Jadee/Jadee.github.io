---
title: PyTorch快餐教程(2)-MNIST问题处理
date: 2019-01-05
categories: Tensorflow
tags:
- Tensorflow
---

# 背景简介

## 使用深度学习解决问题的通用方法

在解决各种实际问题之前，我们先要提纲契领地了解使用深度学习解决问题的方法。

<!-- more -->

首先，我们需要强调一点，深度学习学习的是人类可以标记的知识。如果人解决都困难的话，需要通过别的方法首先让人先能够解决。

举例说明。比如要做语音识别，结果杂音特别多，声音模糊到人类都听不清内容，那么指望通过深度学习来识别出来基本上没戏。但是，深度学习并不是唯一的手段，我们还有其他的模型和工具可以用。比如声学的工具，或者是浅层的机器学习等，将这段音频变成人类听起来比较舒服了，再用深度学习的方法解决就相对容易了。

再举个例子，比如给出一张女生的照片，让认识她的人识别出是不是她，这个可以做到。但是，要是问这个女生当时在想什么，这事儿就没谱了。什么人也没有办法仅凭照片就得出这样的信息。这就属于深度学习也解决不了的问题，因为根本没有可靠有效的数据可以学习。

理解了上面这些之后，我们就可以容易地理解下面的三步法的原理了：

* 首先找到人类能够准确解决这个问题的方法。  
* 为每份数据进行人工标注。  
* 选用深度学习工具对标注好的数据进行学习。 

大家可能还是觉得不够直观，下面举例说明。

## MNIST手写数字识别问题

数据科学研究院NIST收集了大量的手写的数字，并且对其进行了剪裁、位置调整等预处理的工作。深度学习三巨头之一的Yann LeCun从中精选了一个子集，这就是深度学习著名的入门教材MNIST数据集。这个数据可以从Yann LeCun的网站上免费下载：<http://yann.lecun.com/exdb/mnist/>。因为这份数据就是公开给大家研究用的，

我们应用这节所介绍的三步法来看看这个问题该如何解决。
第一步，NIST和Yann LeCun其实已经帮我们做了预处理了，每个数字独立存放在一张28像素乘以28像素的图片中。我们人类看了这些图片，能够认出来每个图片表示什么数字。说明这个问题是深度学习可以解决的。
第二步，既然人工可以认出来这些图片表示的数字，下一步就进入人工标注阶段，我们给每张图片注明所对应的数字。
第三步，有了标注的数据之后，我们就可以选择一个深度学习的模型来处理它了。
MNIST网站上一共提供了4个文件，两个训练文件，两个测试文件。训练文件有两个，一个是由28乘28图片组成的图片的压缩包：http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz，另一个是对图片人工标注好的图片对应的数字值：http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz。
训练集合一共有60000张图片，相应的有60000个人工标注好的数据。测试集合的格式与训练集一模一样，不过只有10000张图片和标注。
首先我们看下简单的，将train-labels-idx1-ubyte.gz用解压缩工具如gunzip命令解压，获得60008字节的train-labels-idx1-ubyte文件。除了8字节的文件头，刚好是60000个标注好的数字。

我们写段代码来读取这60000个标记的数据吧，代码如下：
