---
title: 分享(2)-智能文案在广告领域的应用
date: 2018-11-15
categories: 计算广告
tags:
- 计算广告
- 智能创意
---

# 背景

内容是直接给用户展示商品的方式，采用文字、图片、视频等等信息传播媒介来告知用户当前商品的属性特点。而内容化又是什么？商品的内容化是基于现在对于商品的内容描述进行组织编辑，呈现给用户一种生活方式、生活态度。让用户在淘宝上不仅是购买了商品，同时也能感知时尚，了解搭配，获取生活信息。同时这样对用户的信息增益也会刺激用户的消费，达到双赢的局面。

<!-- more -->

从广告的角度出发，现阶段手淘内容化主要是基于淘宝达人撰写的帖子，在这样的模式下，帖子质量内容和产量都依赖于达人。有些广告主需要对他商品进行内容化描述但可能因为佣金不够高或者达人对他商品不了解，没有达人对这些商品撰写文案。这样就会导致有些淘宝宝贝无法进行内容化覆盖。最重要的一点是由于不同的用户对于同一个宝贝喜欢的属性不一致（例如对于白色森女长款连衣裙，用户A正在寻找白色连衣裙、用户B想买森女系的衣服）给用户进行内容化描述的时候侧重点应该有所不同，但是达人无法实现内容的个性化。由此智能内容化文案生成就成为一个迫在眉睫的事情。

在内容化文案的生成上，我们针对不同的场景对宝贝生成不同的内容化形式。同时也是生成宝贝内容页的基础。我们主要的生成形式分为四类：

* 单个宝贝风格标题生成。对于单个宝贝的短的风格语生成，长度大概在25个词以内。主要是对宝贝的生成能够吸引眼球的标题。  
* 单个宝贝长内容语生成。对于宝贝的属性进行详细的阐述，长度在20-80个词。对于宝贝的具体的属性进行相应的描述。是后面对于多个宝贝生成帖子的关键一步。  
* 多个宝贝风格标题生成。主要是针对某个主题下的多个宝贝生成一个标题。可以作为内容页帖子的标题。长度大概在25个词以内。  
* 多个宝贝summary生成。在清单帖子的生成中，需要一段话来对当前帖子的介绍的单品进行统一的介绍，对当前帖子的主题进行相应的介绍。长度在50-150个词左右。

对内容进行生成的过程中，我们也遇到了影响文案质量的过度翻译、曝光偏差等问题。除了对于业界已有的解决方案的尝试，我们对于这些问题也提出了我们的解决方案，在公开数据集上也取得了一定的实验效果。同时基于多样性和不同场景的需求，我们对于生成的文案进行了字数控制和基于关键词的个性文案生成。

本文余下部分会先介绍在现阶段业界相关工作，然后给出模型评价指标，最后从单个宝贝风格标题生成、单个宝贝长内容语生成、多个宝贝风格标题生成和多个宝贝summary生成四个角度来阐述。

# 相关工作

智能文本生成研究领域包括机器翻译、 聊天机器人、新闻自动生成等等。无论是在学术界还是在工业界现阶段都有很多成果：CopyNet[2]、Pointer-net[3] 、DAD[4]、Coverage[5]以及开源的OpenNMT[1]等等，在工业界中也有很多成果例如google translate[6]、Facebook的Conv2Conv[7]、微软小冰、头条的小明号等。

## OpenNMT

我们的代码是基于开源框架OpenNMT[1][8]进行实验。这个模型是一个encode-decode翻译模型，网络结构如下图：

![avatar](http://opennmt.net/simple-attn.png)

该模型是一个seq2seq模型。encode端和decode端都采用的LSTM结构，在decode部分加入了global attention 对于输入进行attention。在decode生成中采用beam search 寻找最优解。

## Conv2conv

基于卷积的seq2seq。将传统的LSTM改为通过多层卷积的学习提高时序学习的效率。相对于RNN2RNN速度提高了9倍。具体的网络结构如图。

![avatar](http://attachbak.dataguru.cn/attachments/portal/201709/22/101815j1wm0w0w0mrweh1w.jpg)

在conv2conv[7]中非线性部分采用的是门控制结构GLM(Gated linear units)。同时这里的attention采用的是multi-hop attention，通过这样多层的attention能够注意到不同抽象程度的的文章表达（底层attention越具体，更能把握细节，高层attention更抽象更能看到句子的全局主旨）。在conv2conv里面为了能够很好的学习到时序关系，在输入加入了position embedding。通过convolutional block 结构按层的抽取特征。

## CopyNet

Copynet[10]的产生是由于在一些场景中，在source部分被提到的实体信息是当前语境中的重要信息需要准确的描述，比如时间、人名、品牌等等。比如在对话场景中（I: Hello Jack, my name is Chandralekha. R: Nice to meet you, Chandralekha.）这样的信息需要被原封不动的复制过来。于是CopyNet就是用来判断在当前生成的时候是复制input的信息还是自己生成。网络结构如下图。



